# $Id: ~/.shared_rc wandsas 2018/08/14

#
# Wandsas's shared environment startup file
#
# This should get run as part of setting up the environment
# of any sh-compatible shell, including non-interactive ones;
# hence it should be kept as fast and portable as possible.
# Note that that means silly things like [ ! -e foo ] rather
# than ! [ -e foo ] ...

# Allow disabling of entire environment suite
[ -n "$shared_rc_loaded" ] && return

# {{{ Pager

#export PERLDOC_PAGER='less -R'

export PAGER='less'

export LESS='-a -h100 -i -j15 -M -q -R -W -y100 -X'

export LESSOPEN="|$ZDOTDIR/bin/lesspipe.sh %s"

# Make sure synced with .cfg-post.d/shell-env
export LESSKEY="$ZDOTDIR/.less"

# }}}

# {{{ COLUMNS

# Some programs find this handy.  Unfortunately xterm gets confused
# when launched with it set ...
[ "${COLUMNS:-0}" -gt 0 ] && export COLUMNS

# }}}

# {{{ Direnv hooks

if [[ -n "$BASH_VERSION" ]]
then    eval "$(direnv hook bash)"
elif [[ -n "$ZSH_VERSION" ]]
then    eval "$(direnv hook zsh)"
fi

# }}}

. $ZDOT_RUN_HOOKS .shared_rc.d

shared_rc_loaded=y

# vim:fenc=utf-8:ft=sh:ts=2:sts=0:sw=0:et:fdm=marker:foldlevel=0
